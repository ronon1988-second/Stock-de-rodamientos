{
  "entities": {
    "Bearing": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Bearing",
      "type": "object",
      "description": "Represents a specific type of bearing. Renamed to InventoryItem for broader use.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The unique name or code of the item."
        },
        "stock": {
          "type": "number",
          "description": "The current quantity in stock."
        },
        "threshold": {
          "type": "number",
          "description": "The minimum quantity of this item that should be in stock."
        }
      },
      "required": [
        "name",
        "stock",
        "threshold"
      ]
    },
    "SectorAssignment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "SectorAssignment",
      "type": "object",
      "description": "Represents the assignment of a specific quantity of an inventory item to a sector.",
      "properties": {
        "sector": {
          "type": "string",
          "description": "The sector to which the item is assigned."
        },
        "itemId": {
          "type": "string",
          "description": "Reference to the InventoryItem's ID."
        },
        "itemName": {
          "type": "string",
          "description": "The name of the assigned item (denormalized for easier display)."
        },
        "quantity": {
          "type": "number",
          "description": "The quantity required for that sector."
        }
      },
      "required": [
        "sector",
        "itemId",
        "itemName",
        "quantity"
      ]
    },
    "UsageLog": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UsageLog",
      "type": "object",
      "description": "Represents a record of item usage.",
      "properties": {
        "itemId": {
          "type": "string",
          "description": "Reference to the InventoryItem's ID."
        },
        "itemName": {
          "type": "string",
          "description": "The name of the used item."
        },
        "quantity": {
          "type": "number",
          "description": "The quantity of the item used."
        },
        "date": {
          "type": "string",
          "description": "The ISO date and time when the item was used."
        },
        "sector": {
          "type": "string",
          "description": "The sector where the item was used."
        }
      },
      "required": [
        "itemId",
        "itemName",
        "quantity",
        "date",
        "sector"
      ]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "inventory/{inventoryId}",
        "definition": {
          "entityName": "InventoryItem",
          "schema": {
            "$ref": "#/backend/entities/Bearing"
          },
          "description": "Stores all shared inventory items. Accessible by any authenticated user.",
          "params": [
            {
              "name": "inventoryId",
              "description": "The unique ID of the inventory item."
            }
          ]
        }
      },
      {
        "path": "sectorAssignments/{assignmentId}",
        "definition": {
          "entityName": "SectorAssignment",
          "schema": {
            "$ref": "#/backend/entities/SectorAssignment"
          },
          "description": "Stores all shared sector assignments. Accessible by any authenticated user.",
          "params": [
            {
              "name": "assignmentId",
              "description": "The unique ID of the sector assignment."
            }
          ]
        }
      },
      {
        "path": "usageLog/{usageLogId}",
        "definition": {
          "entityName": "UsageLog",
          "schema": {
            "$ref": "#/backend/entities/UsageLog"
          },
          "description": "Stores the shared history of item usage. Accessible by any authenticated user.",
          "params": [
            {
              "name": "usageLogId",
              "description": "The unique ID of the usage log record."
            }
          ]
        }
      }
    ],
    "reasoning": "The application requires a shared inventory model where any authenticated user can view and modify the same dataset. To achieve this, the Firestore collections (inventory, sectorAssignments, usageLog) are placed at the root level, removing the user-specific pathing ('users/{userId}'). This makes the data globally accessible to all authenticated users, aligning with the requirement that all modifications are visible to everyone in real-time."
  }
}